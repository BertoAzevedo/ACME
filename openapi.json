{"openapi":"3.0.0","info":{"title":"ACME Review Service","version":"1.0","description":"An API for managing reviews"},"servers":[{"url":"http://localhost:3000"}],"security":[{"basicAuth":[]}],"paths":{"/Product":{"get":{"tags":["Product"],"description":"Returns all products","parameters":[{"in":"query","name":"start","schema":{"type":"integer"},"description":"The number of items to skip before starting to collect the result set"},{"in":"query","name":"n","schema":{"type":"integer"},"description":"The numbers of items to return"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/products"}}}}}}},"/Product/{productID}":{"get":{"tags":["Product"],"description":"Returns one product","parameters":[{"in":"path","required":true,"name":"productID","schema":{"type":"string"},"description":"Numeric ID of the product to get"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/product"}}}},"404":{"description":"the id does not correspond to an existing product"}}}},"/Review":{"get":{"tags":["Review"],"description":"Returns a list of approved reviews with pagination. Can also filter by product. With moderator authentication its also possible to filter by status","parameters":[{"in":"query","name":"productID","schema":{"type":"string"},"description":"Filter reviews by product"},{"in":"query","name":"status","schema":{"type":"string"},"description":"Filter reviews by status (only with moderator authentication)"},{"in":"query","name":"start","schema":{"type":"integer"},"description":"The number of items to skip before starting to collect the result set"},{"in":"query","name":"n","schema":{"type":"integer"},"description":"The numbers of items to return"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/reviews"}}}},"404":{"description":"Review not found"},"405":{"description":"Method not allowed"}}}},"/Review/{reviewID}":{"get":{"tags":["Review"],"description":"Returns a specific review","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/review"}}}},"404":{"description":"Review not found"}}},"put":{"tags":["Review"],"description":"Updates a review. Needs authentication of the user","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/review"}}}},"401":{"description":"Needs authentication"},"403":{"description":"you are authenticated and tried to update a user profile other than yours"}}},"delete":{"tags":["Review"],"description":"Deletes a review. Needs authentication of the user who created it","responses":{"204":{"description":"Review deleted"},"401":{"description":"Needs authentication"},"403":{"description":"Tried to delete a review from another user"}}}},"/Review/{productID}":{"put":{"tags":["Review"],"description":"Creates a review. Needs authentication of the user","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/review"}}}},"401":{"description":"Needs authentication"}}},"post":{"tags":["Review"],"description":"Creates a review. Needs authentication of the user","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/review"}}}},"401":{"description":"Needs authentication"}}}},"/Review/MyReviews":{"get":{"tags":["Review"],"description":"Returns a list of personal reviews. Can also filter by status to view the current status of your reviews","parameters":[{"in":"query","name":"status","schema":{"type":"string"},"description":"Filter reviews by status"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/reviews"}}}},"404":{"description":"Review not found"},"405":{"description":"Method not allowed"}}}},"/User":{"get":{"tags":["User"],"description":"Returns a list of users if has moderator authentication. The password of the user is returned only if its the same person to request it","security":[],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/users"}}}},"405":{"description":"Method not allowed"}}}},"/User/{userID}":{"get":{"tags":["User"],"description":"Returns user information. The password of the user is returned only if its the same person to request it","parameters":[{"in":"path","name":"userID","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the user to get"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"403":{"description":"you are authenticated and tried to update a user profile other than yours"},"404":{"description":"User not found"},"409":{"description":"you are not authenticated, trying to register a new user, but the choosen user name is already in use"}}},"put":{"tags":["User"],"description":"Create or update a user account","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"403":{"description":"you are authenticated and tried to update a user profile other than yours"},"409":{"description":"you are not authenticated, trying to register a new user, but the choosen user name is already in use"}}},"post":{"tags":["User"],"description":"Create a user account","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"409":{"description":"you are not authenticated, trying to register a new user, but the choosen user name is already in use"}}},"delete":{"tags":["User"],"description":"Delete a user account","security":[],"responses":{"204":{"description":"Account deleted"},"403":{"description":"Tried to delete other account"},"404":{"description":"User not found"}}}}},"components":{"schemas":{"image":{"description":"a image","properties":{"href":{"type":"string"}}},"product":{"description":"a product","properties":{"id":{"type":"string"},"designation":{"type":"string"},"description":{"type":"string"},"images":{"type":"array","items":{"$ref":"#/components/schemas/image"}},"sku":{"type":"string"}}},"products":{"description":"A json object with all the objects of products","properties":{"products":{"type":"array","items":{"$ref":"#/components/schemas/product"}}}},"user":{"description":"a user","properties":{"id":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string"},"createdOn":{"type":"string","format":"date-time"},"updatedOn":{"type":"string","format":"date-time"},"moderator":{"type":"boolean"}}},"users":{"description":"A json object with all the objects of users","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/user"}}}},"review":{"description":"a review","properties":{"id":{"type":"string"},"productID":{"type":"string"},"text":{"type":"string"},"rating":{"type":"number"},"createdOn":{"type":"string","format":"date-time"},"updatedOn":{"type":"string","format":"date-time"},"status":{"type":"string"},"creator":{"type":"string"}}},"reviews":{"description":"A json object with all the objects of reviews","properties":{"reviews":{"type":"array","items":{"$ref":"#/components/schemas/review"}}}}}},"tags":[]}